var locals = {};
locals.content = [{ template:'speakers',
                    macro:'standard',
                    arguments:{ 
                        speakers:[{
                              name:'Amer Nasr',
                              id:1,                  
                              year:'Freshman',
                              origin:'Brazil',
                              srcScreen:'/images/speakers/module/amer.jpg',
                              srcThumb:'/images/speakers/module/amer-thumb.jpg', 
                              topic:'Developing methods to empower students to have a voice.',
                              text:'<p>Developing methods to empower students to have a voice.</p>'
                              },
                              {name:'Attilio Rigotti',
                              id:2,            
                              year:'Alumni',
                              origin:'Chile',
                              srcScreen:'/images/speakers/module/attilio.jpg',
                              srcThumb:'/images/speakers/module/attilio-thumb.jpg',
                              topic:'How video games saved my life',
                              text:'<p>Since he can remember, Attilio Rigotti has been obsessed with video games. But it took directing an interactive theater performance to help him figure out why. Simply put, playing video games makes him <i>feel happier</i>. Reflecting on the idea of choice and being a hero in one’s own life, as well as the possibilities of interactivity in the arts, Attilio hopes to better understand what he considers the most important artform of the 21st century and how it can change people\'s lives in the way video games changed his.</p>'
                              },
                              {name:'Charlotte de Bekker',
                              id:3,        
                              year:'Sophomore',
                              origin:'Netherlands',
                              srcScreen:'/images/speakers/module/charlotte.jpg',
                              srcThumb:'/images/speakers/module/charlotte-thumb.jpg',
                              topic:'AUTHENT&Iuml;K: IKEA furniture and the construction of authenticity',
                              text:'<p>In the midst of my hipster angst I was faced with the tragic realisation that my attempts at authenticity were futile. With the help of IKEA furniture, Dutch flea markets, and the image of Dubai, I take a closer look at the irony of constructing authenticity. </p>'
                              },
                              {name:'Hayat Muhammed Seid',               
                              id:4,        
                              year:'Sophomore',
                              origin:'Ethiopia',
                              srcScreen:'/images/speakers/module/hayat.jpg',
                              srcThumb:'/images/speakers/module/hayat-thumb.jpg',
                              topic:'Telling stories and claiming self-identities',
                              text:'<p>Stories can be a manifestation of our identities; they allow us to express ourselves. Everyone has a story and should have the opportunity to tell it. However, it is the case that some stories are told far more often than others and gradually transform to single narratives and stereotypes. Learning and building common understanding is a gradual and continuous process. We learn through sharing our stories and listening to the stories of others. It is important to continuously provide this space for new stories, new perspectives, and new discussions, which will result in the creation of a more informed, empathetic and respectful society. So the question is, how do we make sure that our voices are heard and that our stories are told the right way?</p>'
                              },
                              {name:'Jovan Jovancevic',
                              id:5,           
                              year:'Freshman',
                              origin:'Montenegro',
                              srcScreen:'/images/speakers/module/jovan.jpg',
                              srcThumb:'/images/speakers/module/jovan-thumb.jpg',
                              topic:'When vision triumphs over sight',
                              text:'<p>Training your eyes to see a chessboard that isn’t there and move the game\'s 32 pieces across that very same 64-square matrix; that is the game of blindfold chess. It is a unique challenge that shows what remarkable potential our brains have, a form of training in which everyone can and should engage, regardless of interest in chess. Allow Jovan to patiently guide you through this game, showing you the many ways in which you can benefit from it on a daily basis.</p>'
                              },
                              {name:'Maitha Al Memari',
                              id:6,           
                              year:'Freshman',
                              origin:'United Arab Emirates',
                              srcScreen:'/images/speakers/module/maitha.jpg',
                              srcThumb:'/images/speakers/module/maitha-thumb.jpg',
                              topic:'De-stereotyping the \'Black Cloak\'',
                              text:'<p>Why do you wear the same thing everyday? How come you are always in black? Don’t you get bored? What is it? What does it mean? Why do you wear it on a daily basis? How can you express individuality when most Emiratis wear the same thing? My new community at NYUAD bombarded me with absurd questions about my abaya that have never occurred to me before. These questions have made me realize that the way I feel and perceive my abaya is different to how others do. Through my talk I aim to explain and dismiss the stereotype of abayas in the UAE context. Moreover, I aim to motivate people to ask questions and break the stereotypes that surround them with reality.</p>'
                              },
                              {name:'Meera Al Agroobi',
                              id:7,           
                              year:'Graduate',                               
                              origin:'United Arab Emirates',                    
                              srcScreen:'/images/speakers/module/meera.jpg',      
                              srcThumb:'/images/speakers/module/meera-thumb.jpg',
                              topic:'Bullies are victims too!',
                              text:'<p>Should bullies be punished or rewarded? It seems that there is an obvious answer to this question but you’d be surprised to know that there isn’t. I am going to share my story as a bully and introduce new ideas and interventions for bullies. You can’t fix a car unless you know how the mechanics work, right? Similarly you can’t fix bullies unless you know how a bully’s minds work. I was once a bully and I can tell you exactly how it works.</p>'
                              },
                              {name:'Mohit Mandal',
                              id:8,
                              year:'Senior',
                              origin:'India',
                              srcScreen:'/images/speakers/module/mohit.jpg',
                              srcThumb:'/images/speakers/module/mohit-thumb.jpg',
                              topic:'What cricket taught me about compassion',
                              text:'<p>A research assignment and a chance encounter in a barbershop provided me with the spark for a fourteen-week long journey into the hidden world of Abu Dhabi\'s "migrant workers." From 12am to 3am on weekend nights, I played street-cricket with a group of Indian, Pakistani and Bangladeshi hairdressers in the abandoned parking lot of a mall in Abu Dhabi and found myself confronted, continually, with the conundrum: How does one begin to capture the rich, complex - and, often, invisible - lives of the "migrant workers" in a way that is neither condescending nor patronizing?</p>'    
                              },
                              {name:'Samuel Ridgeway',
                              id:10,            
                              year:'Junior',
                              origin:'United Kingdom',
                              srcScreen:'/images/speakers/module/samuel.jpg',
                              srcThumb:'/images/speakers/module/samuel-thumb.jpg',
                              topic:'Let me take you home...',
                              text:'<p>Who is home for you? What is home for you? Where is home for you? I used to have only one home – it was the place where I grew up, lived with my family, and I felt very comfortable there. Fast-forward through three years of college in Abu Dhabi and I now find myself questioning what home is and how to find it. I want to explore the idea that a person can have multiple homes, ways a place can become home and the importance of developing memories where you are in life.</p>'
                              },
                              {name:'Sara Al Shamlan',
                              id:11,            
                              year:'Senior',
                              origin:'Qatar',
                              srcScreen:'/images/speakers/module/sara.jpg',
                              srcThumb:'/images/speakers/module/sara-thumb.jpg',
                              topic:'Re-evaluating happiness',
                              text:'<p>I have grown up with a desire and passion to help people around me. At a very young age I came to a great realization that has made me live each day happier and more appreciative of everything.  I realized that I had to reevaluate my take on happiness when I was exposed to a community that had nothing yet their hardship did not prevent them from being happy and thankful.</p>'
                              },                              
                              {name:'Vasily Rudchenko',
                              id:12,           
                              year:'Sophomore',
                              origin:'Ukraine',
                              srcScreen:'/images/speakers/module/vasily.jpg',                   
                              srcThumb:'/images/speakers/module/vasily-thumb.jpg',
                              topic:'Helping engineers tackle real problems to create useful technological solutions',
                              text:'<p>Engineers are known for creating cool technology without a problem that would justify its existence. I am working on a team of NYUAD engineers, who are solving an existing problem in a national park in the UAE by tackling it through a human-centered approach, rather than a strictly technological mindset.</p>'
                            }]
                              }
                  },
                  { template:'panorama',
                    macro:'standard',
                    arguments:{src:'venue.jpg',
                               text:'<h4>Venue</h4>TEDxNYUAD 2015 will take place in the modern Conference Center at the new campus of New York University Abu Dhabi.'
                              }
                  }];



$( document ).ready(function() {
    var speaker; //In ID
    
    //Initialise tooltips
    $('[data-toggle="tooltip"]').tooltip({
        'placement': 'right'
    });
    
    $('a[id^="speaker-"]').click( function (e){
        
        //Get speaker id
        var id = getId($(this).attr('id'));
        //Get speaker data
        var speakerData = $.grep(locals.content[0].arguments.speakers, function(e){ return e.id == id; });

        if(!speaker){
            $("#speakers-overview").fadeOut(200);
            $("#speakers-menu").delay(200).slideDown(200);
        }
        
        $("#speakers-presentation").fadeOut(200);
        
        $("#speakers-presentation-content").delay(200).queue(function(next){ 
            $(this).html("<h3>"+speakerData[0].topic+"</h3><h4>"+speakerData[0].name+", "+speakerData[0].origin+"</h4>"+speakerData[0].text);
            $("#speakers-presentation").fadeIn(200);
            next();
        });

        //Add the image to the HTML, i.e. lazy-load the image
        //http://stackoverflow.com/questions/12206443/click-thumbnail-and-load-image-into-empty-div
        $('.speakers').delay(200).queue(function(next){ 
            $(this).css('background-image','url('+speakerData[0].srcScreen+')'); 
            next();
        });
        
        //Change selected speaker
        speaker = id;
        console.log('Switching to speaker: '+speaker);
    });
                                 
    $('a[id^="speaker-"]').hover(function(e){
                                    if(speaker!=null){
                                        var id=getId($(this).attr('id'));
                                        console.log('#thumb-info-'+id);
                                        $('#thumb-info-'+id).fadeIn(200);
                                    }
                                 }, 
                                 function(e){
                                    if(speaker!=null){
                                        var id=getId($(this).attr('id'));
                                        $('#thumb-info-'+id).fadeOut(200);
                                    }
    });
                                

    
    function getHash(){
        if(window.location.hash != ''){
           var target = window.location.hash.slice(1);
        }
    }
    
    function getId(name){
        return name.slice(8);
    }
    
});